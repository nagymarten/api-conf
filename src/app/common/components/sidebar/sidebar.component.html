<mat-sidenav-container class="sidenav-container">
  <!-- Sidenav -->
  <mat-sidenav mode="side" opened class="sidenav">
    <mat-toolbar color="primary">API Overview</mat-toolbar>

    <!-- Paths Section -->
    <mat-accordion>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-icon>folder</mat-icon>
            Paths
          </mat-panel-title>
        </mat-expansion-panel-header>

        <mat-list>
          <mat-list-item *ngFor="let path of paths | keyvalue">
            <span>{{ path.key }}</span>
            <mat-list>
              <mat-list-item *ngFor="let method of path.value">
                <a
                  [routerLink]="['/path', path.key, method.method]"
                  class="method-link"
                  routerLinkActive="active-path-method active-model"
                >
                  <div class="method-details">
                    <p class="method-summary">
                      {{ method.summary || "No summary available" }}
                    </p>
                    <span class="method-type">{{
                      method.method.toUpperCase()
                    }}</span>
                  </div>
                </a>
              </mat-list-item>
            </mat-list>
          </mat-list-item>
        </mat-list>
      </mat-expansion-panel>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-icon>folder</mat-icon>
            Models
          </mat-panel-title>
        </mat-expansion-panel-header>

        <mat-list>
          <mat-list-item *ngFor="let model of models">
            <a
              [routerLink]="['/schemas', model.name]"
              class="method-link"
              routerLinkActive="active-model active-path-method"
            >
              {{ model.name }}
            </a>
          </mat-list-item>
        </mat-list>
      </mat-expansion-panel>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-icon>folder</mat-icon>
            Request Bodies
          </mat-panel-title>
        </mat-expansion-panel-header>

        <mat-list>
          <mat-list-item *ngFor="let requests of requestBodies">
            <a
              [routerLink]="['/request-bodies', requests.name]"
              class="method-link"
              routerLinkActive="active-model active-path-method"
            >
              {{ requests.name }}
            </a>
          </mat-list-item>
        </mat-list>
      </mat-expansion-panel>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-icon>folder</mat-icon>
            Responses
          </mat-panel-title>
        </mat-expansion-panel-header>

        <mat-list>
          <mat-list-item *ngFor="let response of responses">
            <a
              [routerLink]="['/responses', response.name]"
              class="method-link"
              routerLinkActive="active-model active-path-method"
            >
              {{ response.name }}
            </a>
          </mat-list-item>
        </mat-list>
      </mat-expansion-panel>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-icon>folder</mat-icon>
            Parameters
          </mat-panel-title>
        </mat-expansion-panel-header>

        <mat-list>
          <mat-list-item *ngFor="let parameter of parameters">
            <a
              [routerLink]="['/parameters', parameter.name]"
              class="method-link"
              routerLinkActive="active-model"
            >
              {{ parameter.name }}
            </a>
          </mat-list-item>
        </mat-list>
      </mat-expansion-panel>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-icon>folder</mat-icon>
            Examples
          </mat-panel-title>
        </mat-expansion-panel-header>

        <mat-list>
          <mat-list-item *ngFor="let example of examples">
            <a
              [routerLink]="['/examples', example.name]"
              class="method-link"
              routerLinkActive="active-model"
            >
              {{ example.name }}
            </a>
          </mat-list-item>
        </mat-list>
      </mat-expansion-panel>
    </mat-accordion>
  </mat-sidenav>

  <!-- Sidenav content -->
  <mat-sidenav-content>
    <router-outlet></router-outlet>
    <div class="button-container">
      <app-api-document-upload-button></app-api-document-upload-button>
      <app-download-yaml-button></app-download-yaml-button>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
